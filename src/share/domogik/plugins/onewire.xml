<package type="plugin">
  <id>onewire</id>
  <technology>1wire</technology>
  <description>Manage 1-wire devices.
List of supported devices :
- DS18B20
- DS18S20
- DS2401
- DS2438</description>
  <changelog>
0.2
- adapt plugin for release 0.2.0

0.1
- plugin creation
  </changelog>
  <version>0.2a0</version>
  <documentation>http://wiki.domogik.org/plugin_onewire</documentation>
  <author>Fritz</author>
  <author-email>fritz.smh at gmail.com</author-email>
  <domogik-min-version>0.2.0</domogik-min-version>
  <configuration-keys>
    <key>
      <order-id>0</order-id>
      <name>startup-plugin</name>
      <type>boolean</type>
      <description>Automatically start plugin at Domogik startup</description>
      <default-value>False</default-value>
    </key>
    <key>
      <order-id>1</order-id>
      <name>device</name>
      <type>string</type>
      <description>1-Wire adapter device (usb : 'u')</description>
      <default-value>u</default-value>
    </key>
    <key>
      <order-id>2</order-id>
      <name>cache</name>
      <type>boolean</type>
      <description>Use of cache</description>
      <default-value>False</default-value>
    </key>
    <key>
      <order-id>3</order-id>
      <name>ds18b20-en</name>
      <type>boolean</type>
      <description>Enable DS18B20</description>
      <default-value>False</default-value>
    </key>
    <key>
      <order-id>4</order-id>
      <name>ds18b20-int</name>
      <type>number</type>
      <description>Interval</description>
      <default-value>60</default-value>
    </key>
    <key>
      <order-id>5</order-id>
      <name>ds18b20-res</name>
      <type>list</type>
      <list>
        <item>9</item>
        <item>10</item>
        <item>11</item>
        <item>12</item>
      </list>
      <description>Temperature resolution</description>
      <default-value>12</default-value>
    </key>
    <key>
      <order-id>6</order-id>
      <name>ds18s20-en</name>
      <type>boolean</type>
      <description>Enable DS18S20</description>
      <default-value>False</default-value>
    </key>
    <key>
      <order-id>7</order-id>
      <name>ds18s20-int</name>
      <type>number</type>
      <description>Interval</description>
      <default-value>60</default-value>
    </key>
    <key>
      <order-id>8</order-id>
      <name>ds2401-en</name>
      <type>boolean</type>
      <description>Enable DS2401</description>
      <default-value>False</default-value>
    </key>
    <key>
      <order-id>9</order-id>
      <name>ds2401-int</name>
      <type>number</type>
      <description>Interval</description>
      <default-value>5</default-value>
    </key>
    <key>
      <order-id>10</order-id>
      <name>ds2438-en</name>
      <type>boolean</type>
      <description>Enable DS2438</description>
      <default-value>False</default-value>
    </key>
    <key>
      <order-id>11</order-id>
      <name>ds2438-int</name>
      <type>number</type>
      <description>Interval</description>
      <default-value>60</default-value>
    </key>
  </configuration-keys>
  <files>
    <file path="src/share/domogik/design/plugin/onewire/icon.png"/>
    <file path="src/share/domogik/plugins/onewire.xml"/>
    <file path="src/share/domogik/stats/1wire/sensor.basic-onewire.xml"/>
    <file path="src/domogik/xpl/bin/onewire.py"/>
    <file path="src/domogik/xpl/lib/onewire.py"/>
  </files>
  <dependencies>
    <dep type="other" id="owfs (>=2.8.4)"/>
  </dependencies>
  <udev-rules>
    <rule model="DS9490R" description="Usb DS9490R adaptator" filename="onewire.rules">
SUBSYSTEMS=="usb", ATTRS{idVendor}=="04fa", ATTRS{idProduct}=="2490", SYMLINK+="onewire", MODE="0666"
    </rule>
  </udev-rules>
  <device_technology>
      <id>onewire</id>
      <name>1-wire</name>
      <description>1-wire</description>
  </device_technology>
  <device_types>
      <device_type>
          <id>onewire.thermometer</id>
          <device_technology_id>onewire</device_technology_id>
          <name>Thermometer</name>
          <description>Thermometer</description>
      </device_type>
      <device_type>
          <id>onewire.temperature_and_humidity</id>
          <device_technology_id>onewire</device_technology_id>
          <name>Temperature and Humidity</name>
          <description>Temperature and Humidity</description>
      </device_type>
      <device_type>
          <id>onewire.serial_number</id>
          <device_technology_id>onewire</device_technology_id>
          <name>Serial number</name>
          <description>Serial number</description>
      </device_type>
  </device_types>
  <device_feature_models>
      <device_feature_model>
          <id>onewire.thermometer.temperature</id>
          <name>Temperature</name>
          <feature_type>sensor</feature_type>
          <device_type_id>onewire.thermometer</device_type_id>
          <parameters>
              {&quot;unit&quot;:&quot;\u00B0C&quot;}
          </parameters>
          <value_type>number</value_type>
          <stat_key>temperature</stat_key>
          <return_confirmation>0</return_confirmation>
      </device_feature_model>
      <device_feature_model>
          <id>onewire.temperature_and_humidity.temperature</id>
          <name>Temperature</name>
          <feature_type>sensor</feature_type>
          <device_type_id>onewire.temperature_and_humidity</device_type_id>
          <parameters>
              {&quot;unit&quot;:&quot;\u00B0C&quot;}
          </parameters>
          <value_type>number</value_type>
          <stat_key>temperature</stat_key>
          <return_confirmation>0</return_confirmation>
      </device_feature_model>
      <device_feature_model>
          <id>onewire.temperature_and_humidity.humidity</id>
          <name>Humidity</name>
          <feature_type>sensor</feature_type>
          <device_type_id>onewire.temperature_and_humidity</device_type_id>
          <parameters>
              {}
          </parameters>
          <value_type>number</value_type>
          <stat_key>humidity</stat_key>
          <return_confirmation>0</return_confirmation>
      </device_feature_model>
      <device_feature_model>
          <id>onewire.serial_number.connected</id>
          <name>Connected</name>
          <feature_type>sensor</feature_type>
          <device_type_id>onewire.serial_number</device_type_id>
          <parameters>
              {}
          </parameters>
          <value_type>boolean</value_type>
          <stat_key>present</stat_key>
          <return_confirmation>0</return_confirmation>
      </device_feature_model>
  </device_feature_models>
</package>
