{% extends "base_with_nav.html" %}
{% comment %}
# Copyright 2008 Domogik project

# This file is part of Domogik.
# Domogik is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.

# Domogik is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.

# You should have received a copy of the GNU General Public License
# along with Domogik.  If not, see <http://www.gnu.org/licenses/>.

# Author : Cédric Trévisan <cedric@domogik.org> / Marc Schneider <marc@domogik.org>
{% endcomment %}

{% load i18n %}

{% block title %}{% trans page_title %}{% endblock %}
{% block css %}
  <link href="/design/{{ user.skin_used|default:'skins/default' }}/css/page-home.css" rel="stylesheet" type="text/css" />
{% endblock %}

{% block content %}
  <div id="content">
    <div class="line">
      {% for room in room_list %}
      <div class="room {% cycle 'leftcol' 'middlecol' 'rightcol' %}">
        <h2 class="room-ident icon64-room-default"><span class="room-title">{{ room.name }}</span><br />
          <span class="room-zone icon16-area-firstfloor">{{ room.area.name }}</span>
        </h2>
        <div class="room-temp">16&deg;</div>
        <ul class="room-infos">
          <li class="room-light">Lumi&egrave;re <span class="device-status-off icon16-status-lightoff">(off)</span></li>
          <li class="room-shutter">Volet <span class="device-status-down icon16-status-shutterdown">(ferm&eacute;)</span></li>
        </ul>
        <ul class="room-others">
          <li class="icon32-device-tv">T&eacute;l&eacute;vision <span class="device-status-on icon16-status-defaulton">(on)</span></li>
        </ul>
        <ul class="room-others">
          {% regroup device_list|dictsort:"room" by room as d_list_by_room %}
          {% for device in d_list_by_room %}
            {% ifequal device.grouper room.id %}
              {% for item in device.list %}
                <li>{{ item.device.name }}</li>
              {% endfor %}
            {% endifequal %}
          {% endfor %}
        </ul>
      </div>
      {% empty %}
          <li>{% trans "No rooms configured yet" %}</li>
      {% endfor %}
    </div>
  </div>
{% endblock %}
