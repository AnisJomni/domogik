{% extends "layout_show.html" %}
{% comment %}
# Copyright 2008 Domogik project

# This file is part of Domogik.
# Domogik is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.

# Domogik is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.

# You should have received a copy of the GNU General Public License
# along with Domogik.  If not, see <http://www.gnu.org/licenses/>.

# Author : Cédric Trévisan <cedric@domogik.org>
{% endcomment %}

{% load i18n %}
{% block js_script %}
$(function(){
});
{% endblock %}

{% block css %}
    <link href="/design/{{ request.session.user.skin_used|default:'skins/default' }}/css/ui-buttons.css" rel="stylesheet" type="text/css" />
    <link href="/design/{{ request.session.user.skin_used|default:'skins/default' }}/css/show-element.css" rel="stylesheet" type="text/css" />
    <link href="/design/{{ request.session.user.skin_used|default:'skins/default' }}/css/show-section.css" rel="stylesheet" type="text/css" />
{% endblock %}

{% block include_js_script %}
{% endblock %}

{% block title %}{% trans page_title %}{% endblock %}

{% block content %}
    <div class="element">
        <h1 class="ident"><span class="title">{{ area.name }}</span></h1>
	    <ul class="actions">
        </ul>
    </div>
	
    <dl>
	{% for room in rooms_list %}
		{% if forloop.counter0|divisibleby:"3" %}
            <div class='row'>
        {% endif %}
    		<div class='column'>
        		<div class='section'>
			        <script type="text/javascript">
                	// <![CDATA[
                		$(function() {
                            $("#button_{{ room.id }}").click(function() {
                            $(".section-extended[id!='extended_{{ room.id }}']").hide();
                            $("#extended_{{ room.id }}").toggle();
                        });
                    // ]]>
                    </script>
                    <dt class='header icon64-room-default'>
                        <a href='{% url show_room_view room.id %}' class="ident">
                            <span class="title">{{ room.name }}</span>
                            <br />
                            <span class="subtitle icon16-area-grndfloor">{{ room.description }}</span>
                        </a>
                        <span class='temp icon32-device-temp'>21 &#176;C</span>
                    </dt>
                    <dd class='actions'>
                        <ul>
                            <li>
                                <a href='#' class='buttonicon'><img src='/design/{{ request.session.user.skin_used|default:'skins/default' }}/images/light_32.png' /></a>
                            </li>
                            <li>
                                <a href='#' class='buttonicon'><img src='/design/{{ request.session.user.skin_used|default:'skins/default' }}/images/shutters_32.png' /></a>
                            </li>
                        </ul>
                    </dd>
                    <dd  class='extended' id='extended_{{ room.id }}'></dd>
                    <dd class='footer'><a id='button_{{ room.id }}' href='#'>&#187;</a></dd>
                </div>
            </div>
		{% if forloop.counter0|divisibleby:"3" %}
            </div>
		{% endif %}
	{% endfor %}
</dl>
{% endblock %}
