{
    "configuration": [
        {
            "default": "False", 
            "description": "Automatically start plugin at Domogik startup", 
            "id": "0", 
            "interface": "no", 
            "key": "startup-plugin", 
            "optionnal": "no", 
            "options": [], 
            "type": "boolean"
        }, 
        {
            "default": "0", 
            "description": "define the connection type to velbus", 
            "id": "1", 
            "interface": "no", 
            "key": "connection-type", 
            "optionnal": "no", 
            "options": [
                "serial", 
                "socket"
            ], 
            "type": "enum"
        }, 
        {
            "default": "/dev/ttyACM0", 
            "description": "velbus device (/dev/ttyACM0 for serial, or ip:port for socket", 
            "id": "2", 
            "interface": "no", 
            "key": "device", 
            "optionnal": "no", 
            "options": [], 
            "type": "string"
        }
    ], 
    "xpl_commands": [
         {
            "reference": "setlevel",
            "schema": "lighting.basic",
            "stat_reference": "get_level",
            "parameters": {
                    "static": [],
                    "device": [
                        {
                            "key": "channel",
                            "description": "The channel number",
                            "type": "integer",
                            "max_value": 4,
                            "min_value": 1
                        },
                        {
                            "key": "address",
                            "description": "The decimal address",
                            "type": "integer",
                            "max_value": 255,
                            "min_value": 0
                        }
                    ],
                    "dynamic": [
                        {
                            "key": "level",
                            "type": "integer",
                            "max_value": 255,
                            "min_value": 0
                        }
                    ]
                }
         }
    ],
    "xpl_stats": [
       {
            "reference": "get_level",
            "schema": "lighting.device",
            "parameters": {
                    "static": [],
                     "device": [
                        {
                            "key": "channel",
                            "description": "The channel number",
                            "type": "integer",
                            "max_value": 4,
                            "min_value": 1
                        },
                        {
                            "key": "address",
                            "description": "The decimal address",
                            "type": "integer",
                            "max_value": 0,
                            "min_value": 255
                        }
                    ],
                    "dynamic": [
                        {
                             "key": "level",
                             "stat_key": "level"
                        }
                    ]
                }
       }
    ],
    "device_feature_models": [
        {
            "device_type_id": "velbus.relay", 
            "feature_type": "actuator", 
            "id": "velbus.relay.switch", 
            "name": "Switch", 
            "stat_key": "level", 
            "value_type": "binary",
            "xpl_command": "setlevel",
            "value_field": "level",
            "values": [0, 255]
        }, 
        {
            "device_type_id": "velbus.dimmer", 
            "feature_type": "actuator", 
            "id": "velbus.dimmer.switch", 
            "name": "Switch", 
            "stat_key": "level", 
            "value_type": "binary",
            "xpl_command": "setlevel",
            "value_field": "level",
            "values": [0, 255]
        }, 
        {
            "device_type_id": "velbus.dimmer", 
            "feature_type": "actuator", 
            "id": "velbus.dimmer.change", 
            "name": "Dimmer", 
            "stat_key": "level", 
            "value_type": "range",
            "xpl_command": "setlevel",
            "value_field": "",
            "values": ""
        }, 
        {
            "device_type_id": "velbus.shutter", 
            "feature_type": "actuator", 
            "id": "velbus.shutter.switch", 
            "name": "Shutter", 
            "stat_key": "command", 
            "value_type": "binary",
            "xpl_command": "setlevel",
            "value_field": "level",
            "values": ["up", "down"]
        },
        {
            "device_type_id": "velbus.temp", 
            "feature_type": "sensor", 
            "id": "velbus.temp.current", 
            "name": "Current temperature", 
            "stat_key": "current", 
             "value_type": "number",
            "unit": "C"
        }, 
        {
            "device_type_id": "velbus.temp", 
            "feature_type": "sensor", 
            "id": "velbus.temp.lowest", 
            "name": "Lowest temperature", 
            "stat_key": "current", 
            "value_type": "number",
            "unit": "C"
        },
        {
        
            "device_type_id": "velbus.temp", 
            "feature_type": "sensor", 
            "id": "velbus.temp.highest", 
            "name": "Highest temperature", 
            "stat_key": "highest", 
            "value_type": "number",
            "unit": "C"
 	},
        {
            "device_type_id": "velbus.input", 
            "feature_type": "sensor", 
            "id": "velbus.input.state", 
            "name": "State of a velbus input", 
            "stat_key": "current", 
            "value_type": "string",
            "unit": ""
        } 
    ], 
    "device_types": [
        {
            "description": "Switch one channel on a device", 
            "id": "velbus.relay", 
            "name": "Switch"
        }, 
        {
            "description": "Dim one channel on a device", 
            "id": "velbus.dimmer", 
            "name": "Dimmer"
        }, 
        {
            "description": "Shutter control (up, down)", 
            "id": "velbus.shutter", 
            "name": "Shutter"
        },
        {
            "description": "Temperature Sensor", 
            "id": "velbus.temp", 
            "name": "Temperature"
        },
        {
            "description": "Input contact", 
            "id": "velbus.input", 
            "name": "Input"
        }
    ], 
    "files": [
        "src/share/domogik/design/plugin/velbus/icon.png", 
	"src/share/domogik/stats/velbus/lighting.device-velbus.xml", 
        "src/share/domogik/stats/velbus/sensor.basic-velbus.xml",
        "src/share/domogik/stats/velbus/shutter.device-velbus.xml",
        "src/share/domogik/url2xpl/velbus/setlevel.xml", 
        "src/share/domogik/url2xpl/velbus/0.xml", 
        "src/share/domogik/url2xpl/velbus/255.xml", 
        "src/share/domogik/url2xpl/velbus/down.xml", 
        "src/share/domogik/url2xpl/velbus/up.xml", 
        "src/domogik_packages/xpl/bin/velbus.py", 
        "src/domogik_packages/xpl/lib/velbus.py", 
        "src/domogik_packages/xpl/helper/velbus.py"
    ], 
    "identity": {
        "author": "Maikel Punie", 
        "author_email": "maikel.puni@gmail.com", 
        "category": "velbus", 
        "changelog": "0.1.0\n- relays only\n- serial comunication only \n0.2.0\n- added socket comunication\n0.3.0\n- added dimmer support\n0.4.0\n- added blind (up/down) support\n0.5.0\n- added temperature sensor support", 
        "dependencies": [
            {
                "id": "pyserial (>=2.6)", 
                "type": "python"
            }
        ], 
        "description": "velbus interface", 
        "documentation": "http://wiki.domogik.org/plugin_velbus", 
        "domogik_min_version": "0.2.0", 
        "id": "velbus", 
        "type": "plugin", 
        "version": "0.5.0"
    }, 
    "json_version": 2, 
    "technology": {
        "description": "Velbus http://www.velbus.eu", 
        "id": "velbus", 
        "name": "Velbus"
    }, 
    "udev-rules": [
        {
            "description": "Velbus USB interface", 
            "filename": "velbus.rules", 
            "model": "VMB1USB", 
            "rule": "SUBSYSTEM==\"tty\" ATTRS(manufacturer)==\"Velleman Projects\" ATTRS{product}==\"VMB1USB Velbus USB interface\" SYMLINK+=\"velbus\" MODE=\"0666\""
        }
    ]
}
