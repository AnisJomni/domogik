{% extends "layout_show.html" %}
{% comment %}
# Copyright 2008 Domogik project

# This file is part of Domogik.
# Domogik is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.

# Domogik is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.

# You should have received a copy of the GNU General Public License
# along with Domogik.  If not, see <http://www.gnu.org/licenses/>.

# Author : Cédric Trévisan <cedric@domogik.org>
{% endcomment %}

{% load i18n %}
{% block js_script %}
// <![CDATA[
    $(function(){
		$(".block .extended").hide();
    });
// ]]>
{% endblock %}

{% block css %}
{% endblock %}

{% block js_include %}
{% endblock %}

{% block title %}{% trans page_title %}{% endblock %}

{% block content %}
    <div class='section-bgnd'>
		<div class="section icon64-room-default">
			<h1 class="ident"><span class="title">My House</span></h1>
			<ul class="actions"></ul>
		</div>
    </div>
    <dl>
	{% for area in areas_list %}
		{% if forloop.counter0|divisibleby:"3" %}
            <div class='row'>
		{% endif %}
				<div class='column'>
					<div class='block'>
						<script type="text/javascript">
						// <![CDATA[
							$(function() {
								$("#button_{{ area.id }}").click(function() {
									$(".section .extended[id!='extended_{{ area.id }}']").hide();
									$("#extended_{{ area.id }}").toggle();
								});
							});
						// ]]>
						</script>
						<dt class='header icon64-area-{{ area.config.icon}}'>
							<a href='{% url show_area_view area.id %}' class="ident">
								<span class="title">{{ area.name }}</span>
								<br />
								<span class="subtitle">{{ area.description }}</span>
							</a>
							<span class='temp icon32-device-temp'>21 &#176;C</span>
						</dt>
						<dd class='actions'>
							<ul>
							</ul>
						</dd>
						<dd  class='extended' id='extended_{{ area.id }}'></dd>
						<dd class='footer'><a id='button_{{ area.id }}' href='#'>&#187;</a></dd>
					</div>
				</div>
		{% if forloop.counter0|divisibleby:"3" %}
            </div>
		{% endif %}
	{% endfor %}
    </dl>
{% endblock %}