<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Domogik: xPLAPI::Manager Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>xPLAPI</b>::<a class="el" href="classxPLAPI_1_1Manager.html">Manager</a>
  </div>
</div>
<div class="contents">
<h1>xPLAPI::Manager Class Reference</h1><!-- doxytag: class="xPLAPI::Manager" -->
<p>
<a href="classxPLAPI_1_1Manager-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxPLAPI_1_1Manager.html#57252f423d02495f598f858e9c699d38">__init__</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxPLAPI_1_1Manager.html#c955c61a27cc1b91885632576bf2c13d">leave</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxPLAPI_1_1Manager.html#98293b52fe5999a6bdfbe1cf17d08eb7">send</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxPLAPI_1_1Manager.html#e40b7a76258786cbf63ae2374b28c053">add_listener</a></td></tr>

<tr><td colspan="2"><br><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxPLAPI_1_1Manager.html#c4032a0074505d88356fbc04468ca01c">_SendHeartbeat</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxPLAPI_1_1Manager.html#f3b6bb58d65bbacf144099c29389481b">_run_thread_monitor</a></td></tr>

<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3ed8de348b50c251796cdca17dbd2aa3"></a><!-- doxytag: member="xPLAPI::Manager::_buff" ref="3ed8de348b50c251796cdca17dbd2aa3" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_buff</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2bc7b3100a53ad071f76f3b681c52661"></a><!-- doxytag: member="xPLAPI::Manager::_port" ref="2bc7b3100a53ad071f76f3b681c52661" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_port</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c683222401e40e3d2fd218263a1450c0"></a><!-- doxytag: member="xPLAPI::Manager::_ip" ref="c683222401e40e3d2fd218263a1450c0" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_ip</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="704810400121d4f606126b0a639e22c6"></a><!-- doxytag: member="xPLAPI::Manager::_source" ref="704810400121d4f606126b0a639e22c6" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_source</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="86ca9159e4cb44b28540f7afc82743e2"></a><!-- doxytag: member="xPLAPI::Manager::_listeners" ref="86ca9159e4cb44b28540f7afc82743e2" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_listeners</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4c26907af60a5c4cb2e88b68a51273b7"></a><!-- doxytag: member="xPLAPI::Manager::_UDPSock" ref="4c26907af60a5c4cb2e88b68a51273b7" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_UDPSock</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="290fb2f20ababa2c8a5d5f897372b815"></a><!-- doxytag: member="xPLAPI::Manager::_h_timer" ref="290fb2f20ababa2c8a5d5f897372b815" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_h_timer</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d6ccff08bbaa94d7ce89ce1bd847708c"></a><!-- doxytag: member="xPLAPI::Manager::_stop_thread" ref="d6ccff08bbaa94d7ce89ce1bd847708c" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_stop_thread</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b1941f7867b7a151b21fd865f7ac9f82"></a><!-- doxytag: member="xPLAPI::Manager::_network" ref="b1941f7867b7a151b21fd865f7ac9f82" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>_network</b></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<div class="fragment"><pre class="fragment">
Manager is the main component of the system
You can run many managers on different port
Each manager will send an heartbeat message on broadcast on port 3865
to announce itself to the xPL Hub
</pre></div> <hr><h2>Member Function Documentation</h2>
<a class="anchor" name="57252f423d02495f598f858e9c699d38"></a><!-- doxytag: member="xPLAPI::Manager::__init__" ref="57252f423d02495f598f858e9c699d38" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xPLAPI::Manager::__init__           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>ip</em> = <code>&quot;0.0.0.0&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>source</em> = <code>&quot;xpl-monitor.python&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>port</em> = <code>3865</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">
Create a new manager instance
@param ip : IP to listen to (default 0.0.0.0)
@param source : source name of the application
@param port : port to listen to (default 3865)
</pre></div> 
</div>
</div><p>
<a class="anchor" name="c955c61a27cc1b91885632576bf2c13d"></a><!-- doxytag: member="xPLAPI::Manager::leave" ref="c955c61a27cc1b91885632576bf2c13d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xPLAPI::Manager::leave           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">
Stop threads and leave the Manager
</pre></div> 
</div>
</div><p>
<a class="anchor" name="98293b52fe5999a6bdfbe1cf17d08eb7"></a><!-- doxytag: member="xPLAPI::Manager::send" ref="98293b52fe5999a6bdfbe1cf17d08eb7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xPLAPI::Manager::send           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>message</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">
This function allows you to send an xPL message on the Bus
Be carreful, there is no check on message correctness
</pre></div> 
</div>
</div><p>
<a class="anchor" name="c4032a0074505d88356fbc04468ca01c"></a><!-- doxytag: member="xPLAPI::Manager::_SendHeartbeat" ref="c4032a0074505d88356fbc04468ca01c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xPLAPI::Manager::_SendHeartbeat           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">
Send heartbeat message in broadcast on the network, on the bus port (3865)
This make the application able to be discovered by the hub
</pre></div> 
</div>
</div><p>
<a class="anchor" name="f3b6bb58d65bbacf144099c29389481b"></a><!-- doxytag: member="xPLAPI::Manager::_run_thread_monitor" ref="f3b6bb58d65bbacf144099c29389481b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xPLAPI::Manager::_run_thread_monitor           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">
The monitor thread receive all messages on the connection and check
them to see if the target is the application.
If it is, call all listeners
</pre></div> 
</div>
</div><p>
<a class="anchor" name="e40b7a76258786cbf63ae2374b28c053"></a><!-- doxytag: member="xPLAPI::Manager::add_listener" ref="e40b7a76258786cbf63ae2374b28c053" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def xPLAPI::Manager::add_listener           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>listener</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<div class="fragment"><pre class="fragment">
Add a listener on the list of the manager
@param listener : the listener instance
</pre></div> 
</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>xpl/xPLAPI.py</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Feb 4 13:54:19 2009 for Domogik by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
